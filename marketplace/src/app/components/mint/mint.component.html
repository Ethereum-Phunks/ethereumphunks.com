<div class="collection-info-wrapper">
  <h1>INSCRIBE</h1>
  <h2>{{ collection()?.name }}</h2>
  <p>On the ethereum blockchain</p>

  <div class="mint-info-wrapper">
    <span class="minted">{{ state().mintProgress | number }}</span>/{{ collection()?.supply | number }} inscribed
  </div>

  <!-- <small style="font-size: .8rem">
    {{ pendingInscriptionShas$ | async | json }}
  </small> -->
</div>

<div class="actions-wrapper">

  <div class="actions-buttons-wrapper">
    <button
      (click)="randomMintItem()"
      [class.disabled]="state().inscribing">

      Random
      @if (state().loadingMint) {
        <div class="loader">
          <img src="/assets/loader-light.gif" width="14" height="14" alt="">
        </div>
      }
    </button>

    @if (connected$ | async) {
      <button
        (click)="inscribe()"
        class="inscribe"
        [class.disabled]="state().inscribing || !state().activeMint?.imageUrl || state().activeMint?.exists">

        {{ state().activeMint?.exists ? 'Already inscribed' : 'Inscribe' }}
      </button>
    }
  </div>

  <!-- @if (error()) {
    <pre class="pink">{{ error() }}</pre>
  } -->

  @if (state().transaction.status) {
    <p class="pink">Your transaction is {{ state().transaction.status }}. <a [href]="'https://etherscan.com/tx/' + state().transaction.hash" target="_blank">View it on Etherscan</a></p>
  }
</div>

