<div class="breadcrumb">
  <div class="inner">
    @if (phunk(); as phunk) {

      @if (phunk.tokenId > -1) {
        @if (pfpOptionsActive) {
          <div class="pfp-options-wrapper">

            <div class="pfp-options">
              <div class="shape-select">
                <input type="radio" id="square" name="shape" value="square" [formControl]="shapeCheck">
                <label i18n for="square">Square</label>
              </div>

              <div class="shape-select">
                <input type="radio" id="round" name="shape" value="round" [formControl]="shapeCheck">
                <label i18n for="round">Round</label>
              </div>

              <div class="shape-select">
                <input type="radio" id="transparent" name="shape" value="trans" [formControl]="shapeCheck">
                <label i18n for="transparent">Transparent</label>
              </div>
            </div>
          </div>
        }

        <div class="crumbs-wrapper">
          <div class="crumbs">
            <button [routerLink]="['/', 'curated', phunk.slug]">
              {{ phunk.collection?.name }}
            </button>
            <span class="divider">/</span>
            <span class="number">{{ phunk.tokenId }}</span>
          </div>

          <div class="save-pfp">
            <button
              (click)="pfpOptionsActive ? downloadCanvas() : togglePfpOptions()"
              [class.active]="pfpOptionsActive">

              {{ pfpOptionsActive ? 'Save' : 'Download' }}
            </button>
          </div>
        </div>
      }

    } @else {
      <div class="crumbs-wrapper">
        <div class="crumbs">
          <button>Loading...</button>
          <span class="divider">&nbsp;</span>
          <span class="number">&nbsp;</span>
        </div>

        <div class="save-pfp">
          <button class="disabled">Download</button>
        </div>
      </div>
    }
  </div>
</div>

<canvas #pfp id="pfp" width="480" height="480" style="display: none;"></canvas>
